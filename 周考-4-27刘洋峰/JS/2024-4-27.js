// 渲染
var datas = {
    "beijing":{
        "totop":{
            "text":"北京：离婚不满一年的申请人如名下无成套住房，执行首套房信贷政策",
            "address":"https://www.sohu.com/a/773686838_260616?scm=10001.1035_13-100000-0_8000.0-0.10095.0_807&spm=smpc.home.city-news.1.1713855888417vkGXYcf_1467"
        },
        "list":[
            {
                "text":"北京大兴区青云店镇深化“产、学、研”协同 助力企业高质量发展",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             },
             {
                "text":"城市发展新地标！中关村国际创新中心将首次投用于中关村论坛 助力企业高质量发展",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             },
             {
                "text":"送法律送服务昌平市场监管为回天美丽消费保驾护航",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             },
             {
                "text":"北京这场雨，城区降水量最大在朝阳这一处",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             },
             {
                "text":"怀柔设置310个展映点位免费放映1408场电影",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             }
        ]
    },
    "hot":{
        "totop":{
            "text":"种地要先交钱?村干部:110来又能咋地",
            "time":"2024-4-27 19:00",
            "address":"https://www.sohu.com/xtopic/TURBeE1URTNOVGN4?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=index_select_0&spm=smpc.home.choice.1.1713855888417vkGXYcf_1467"
         },
        "list":[
            {
                "text":"文旅部门回应男童被马拖行身亡 ",
                "time":"2024-4-27 18:45",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPREEx?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0?_f=1&spm=smpc.home.choice.2.1713855888417vkGXYcf_1467"
             },
             {
                "text":"4岁男童被三小孩倒酒精烧死?官方回应",
                "time":"2024-4-27 18:08",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNOelE1?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=2&spm=smpc.home.choice.3.1713855888417vkGXYcf_1467"
             },
             {
                "text":"华人老板与妻子在日本被杀并焚尸",
                "time":"2024-4-27 16:00",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNOelF3?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=3&spm=smpc.home.choice.4.1713855888417vkGXYcf_1467"
             },
             {
                "text":"马来西亚两直升机相撞致10人死亡",
                "time":"2024-4-27 14:03",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNOamsy?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=4&spm=smpc.home.choice.5.1713855888417vkGXYcf_1467"
             },
             {
                "text":"乌240米高电视塔被俄军拦腰炸断",
                "time":"2024-4-27 11:36",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNOekl4?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=5&spm=smpc.home.choice.6.1713855888417vkGXYcf_1467"
             },
             {
                "text":"乌240米高电视塔被俄军拦腰炸断",
                "time":"2024-4-26 23:10",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNOekl4?scm=thor.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846?_f=5&spm=smpc.home.choice.6.1713855888417vkGXYcf_1467"
             },
             {
                "text":"遣送难民 英议会通过卢旺达计划",
                "time":"2024-4-26 20:30",
                "address":"https://www.sohu.com/xtopic/TURBeE1UQTNPVE0x?scm=10004.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0&spm=smpc.topic_195.block2_219_toBGno_1_fd.1.1713860600118amLFNLe_16030"
             },
             {
                "text":"广州离婚冷静期杀妻案将宣判",
                "time":"2024-4-26 13:20",
                "address":"https://www.sohu.com/xtopic/TURBeE1EazVPVFEy?scm=10004.16030_15-300014.0.10126.1101.topic:16030:110040.0.2.0&spm=smpc.topic_195.block2_219_toBGno_1_fd.3.1713860600118amLFNLe_16030"
             },
             {
                "text":"男子照顾老人12年继承北京5套房",
                "time":"2024-4-25 10:00",
                "address":"https://www.sohu.com/xtopic/TURBeE1URTNPRFl5?scm=10004.16030_15-300014.0.10126.1101.topic:16030:110040.0.9.a2_3X1846&spm=smpc.topic_195.block2_219_toBGno_1_fd.7.1713860867539zEqCw17_16030"
             }
        ]
    }
}

// 渲染 北京城事 信息
var bj = datas.beijing.totop
$(".bjdzSize",$(".infoImg")).innerHTML = `<a href="${bj.address}">${bj.text}</a>`
$("a",$(".bjdzSize")).style.color = "white"


var bjps =  datas.beijing.list
$(".infoBOX",$(".BOXOne")).innerHTML = bjps.map(function(item){ return `<p><a href="${item.address}">${item.text}</a></p>`}).join("")
// $("a",$("infoSize")).style.color = "black"


// 渲染 热点追击 信息
var rd = datas.hot.totop
$(".rdSize",$(".infoImg2")).innerHTML = `<a href="${rd.address}">${rd.text}</a>`
// $("a",$(".rdSize")).style.color = "white"


var rdps =  datas.hot.list
$(".infoBOX2",$(".BOXOTow")).innerHTML = rdps.map(function(item){ return `<li>${DateTime(item.time)}</li><p><a href="${item.address}">${item.text}</a></p>`}).join("")


// 鼠标移动更换页面的判断
$('.bjBOX').addEventListener('mouseover', function (e){
// document.addEventListener('mouseover', function (e) {
   e = e || window.event;
   var target = e.target || e.srcElement;
//    console.log(target.className)
   if (target.className === 'bjBtn') {
        $('.BOXOne').style = 'display:block;'
        $('.BOXTow').style = 'display:none;'
   }
   if (target.className === 'rdBtn') {
        $('.BOXOne').style = 'display:none;'
        $('.BOXTow').style = 'display:block;'
   }
});

// // 获取时间内容函数
// function DateTime(times) {
//     // 获取的函数时间
//     var ed = new Date(times)
//     // 现在的时间
//     var ing = new Date().getTime()
//     // 时间差的秒数
//     var time = (ing - ed.getTime()) / 1000
//     // 获取渲染进去的年月日时分秒
//     var year = ed.getFullYear(), // 年
//         month = zero(ed.getMonth() + 1), // 月
//         days = zero(ed.getDate()), // 日
//         hours = zero(ed.getHours()), // 时
//         minutes = zero(ed.getMinutes()), // 分
//         // day = zero(ing.getDate()) - days, // 日
//         // hour = zero(ing.getHours()) - hour, // 时
//         // minute = zero(ing.getMinutes()) - minute, // 分
//         // 获取时间差的天时分秒
//         day = parseInt(time / 86400), // 天
//         hour = parseInt(time % 86400 / 3600),  // 时
//         minute = parseInt(time % 3600 / 60)  // 分
//         second = parseInt(time % 60); // 秒
    
//         // 判断大于两天显示具体时间
//     if (day >= 2) {
//         return year + '.' + month + '.' + days + ' ' + hours + ':' + minutes;
//         // 判断大于一天显示昨日 + 具体时间
//     } else if (day >= 1) {
//         return '昨日' + hours + ':' + minutes;
//         // 判断几小时前
//     } else if (hour >= 1) {
//         return hours + '小时前';
//         // 判断几分钟前
//     } else if (minute >= 1) {
//         return minutes + '分钟前';
//     }else if (second >= 1) {
//     return second + '秒前';
// }
// }


function DateTime(time){
    // 1 换算时间差值
    // 先拿到 发布日 距离 第二天凌晨的差值
    var date = new Date(time) / 1000;
    // 将 今日凌晨 作为分割线条   
    var now = new Date().setHours(0) / 1000;   //  0;0;0 - 17:0  = -17
    // now - date > 0   昨天
    if(now - date > 0 && now - date < 86400){
        return `昨日: ${time.slice(time.indexOf(" "))}`
    }
    if(now - date < 0){
        // 今天时间段的差值
        var range = (new Date() - new Date(time)) / 1000;  //   2:00
        var hour = parseInt(range / 3600);
        var minute = parseInt(range % 3600 / 60);
        return `${range >= 3600 ? hour + "小时前" : minute + "分钟前"}`
    }
    return `${time.slice(0,time.indexOf(" "))}`
}

// 封装补零函数
function zero(n){
    return n < 10 ? "0" + n : n
}

// 获取元素封装
function $(el){
    return document.querySelector(el)
}
function gets(el){
    return document.querySelectorAll(el)
}